<div class="layout-topbar">
  <div class="topbar-start">
    <button
      #menubutton
      type="button"
      class="topbar-menubutton p-link p-trigger transition-duration-300"
      (click)="onMenuButtonClick()">
      <i class="pi pi-bars"></i>
    </button>
  </div>
  <div class="layout-topbar-menu-section">
    <app-sidebar></app-sidebar>
  </div>
  <div class="topbar-end flex align-items-center justify-content-end gap-3">
    @if ((cashType | async)?.id !== 1) {
      <div class="flex flex-column text-center">
        <span class="font-size">Caja</span>
        <span class="font-size">S/ {{ total | async }} </span>
      </div>
      <div class="flex flex-column text-center">
        <span class="font-size">Reservas</span>
        <span class="font-size">activas</span>
        <span class="font-size">{{ countFacilities | async }} </span>
      </div>
    }
    <button
      pButton
      pRipple
      [class]="
        (cashType | async)?.id !== 1
          ? 'p-button-primary bt-width'
          : 'bt-width-1'
      "
      [label]="(cashType | async)?.label ?? ''"
      (click)="cash()"
      [disabled]="(countFacilities | async) !== 0"></button>
    <ul class="topbar-menu">
      <li class="topbar-item">
        <a
          pStyleClass="@next"
          enterFromClass="ng-hidden"
          enterActiveClass="px-scalein"
          leaveToClass="ng-hidden"
          leaveActiveClass="px-fadeout"
          [hideOnOutsideClick]="true"
          pRipple
          class="cursor-pointer">
          <img
            class="border-round-xl"
            [src]="
              fakeImage
                ? 'assets/layout/images/user-default.png'
                : imgProfile || 'assets/layout/images/user-default.png'
            "
            alt="Profile" />
        </a>
        <ul
          [class]="
            'topbar-menu active-topbar-menu p-4 w-15rem   z-5 ng-hidden'
          ">
          <li role="menuitem" class="m-0 mb-3">
            <a
              routerLink="/profile"
              class="flex align-items-center hover:text-primary-500 transition-duration-200"
              pStyleClass="@grandparent"
              enterFromClass="ng-hidden"
              enterActiveClass="px-scalein"
              leaveToClass="ng-hidden"
              leaveActiveClass="px-fadeout">
              <i class="pi pi-fw pi-user mr-2"></i>
              <span>Perfíl</span>
            </a>
          </li>
          <li
            role="menuitem"
            class="cursor-pointer hover:text-primary-500 transition-duration-200 m-0"
            (click)="onLogout()">
            <i class="pi pi-fw pi-sign-out mr-2"></i>
            <span>Cerrar Sesión</span>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</div>
